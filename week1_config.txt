config system global
    set hostname "FGVMEVBGKKTJLF45"
    set timezone "US/Pacific"
end

config system interface
    edit "port1"
        set vdom "root"
        set mode static
        set ip 192.168.1.10 255.255.255.0
        set allowaccess ping https ssh http
        set type physical
        set alias "WAN"
        set role wan
    next
    edit "port2"
        set vdom "root"
        set mode static
        set ip 192.168.50.1 255.255.255.0
        set allowaccess ping https ssh http
        set type physical
        set alias "LAN"
        set role lan
    next
    edit "port3"
        set vdom "root"
        set mode static
        set ip 192.168.200.10 255.255.255.0
        set allowaccess ping https ssh
        set type physical
        set alias "WAN2"
        set role wan
    next
end

config system dns
    set primary 96.45.45.45
    set secondary 96.45.46.46
end

config router static
    edit 1
        set dst 0.0.0.0 0.0.0.0
        set gateway 192.168.1.1
        set device "port1"
    next
end

config user local
    edit "student"
        set type password
        set passwd "P@ssw0rd123!"
    next
end

config user group
    edit "SSL_Users"
        set member "student"
    next
end

config firewall address
    edit "LAN_NET"
        set subnet 192.168.50.0 255.255.255.0
    next
    edit "SSL_Pool"
        set type iprange
        set start-ip 10.10.10.1
        set end-ip 10.10.10.254
    next
end

config vpn ssl web portal
    edit "StudentPortal"
        set tunnel-mode enable
        set web-mode disable
        set ip-pools "SSL_Pool"
        set split-tunneling enable
        set split-tunneling-routing-address "all"
    next
end

config vpn ssl settings
    set port 443
    set source-interface "port1"
    set source-address "all"
    set default-portal "StudentPortal"
    config authentication-rule
        edit 1
            set groups "SSL_Users"
            set portal "StudentPortal"
        next
    end
end

config firewall policy
    edit 10
        set name "SSLVPN_to_LAN"
        set srcintf "ssl.root"
        set dstintf "port2"
        set srcaddr "SSL_Pool"
        set dstaddr "LAN_NET"
        set action accept
        set schedule "always"
        set service "ALL"
        set nat disable
    next
    edit 11
        set name "LAN_to_Internet"
        set srcintf "port2"
        set dstintf "port1"
        set srcaddr "LAN_NET"
        set dstaddr "all"
        set action accept
        set schedule "always"
        set service "ALL"
        set nat enable
    next
end
